### 第一章 正则表达式字符匹配

**正则表达式是匹配模式 要么匹配字符 要么匹配位置**



* 两种模糊匹配

  * 横向模糊匹配 可以匹配的字符串长度不是固定的 可以是多种情况。 使用量词 {n,m} 最少n次 最多m次

    ```javascript
    // 比如正则 /ab{2,5}c/g 第一个字符是‘a’ 后面是2到5个字符'b' 最后是字符 'c'

    var reg = /ab{2,5}c/g;
    var str = 'abc abbc abbbc abbbbbbc'; 

    // ==> ['abbc', 'abbbc']
    ```

    ​

  * 纵向模糊 一个正则匹配的字符串 具体到某一个字符时。 可以不是某个确定的字符 可以有多种可能。

    ```javascript
    // 实现方式是 字符组 譬如 [abc] 表示该字符是可以字符 'a'、'b'、'c' 中的任何一个
    var reg = /a[123]b/g; 

    // a1b a2b a3b
    ```

    ​

* 1.2 字符组

  * 如果字符组比较多的话 使用 范围表示法。比如 [123456abcdefg] 可以表示为 [1-6a-g] 来省略和简写。

    如果要匹配 'a' '-' 'z' 中的任何一个字符。可以写成如下方式 [-az]、[az-] 

* 排除字符组 

  除去某某之外的任意一个字符 " [^abc] " 除去 abc 之外的任意一个字符。

  ```javascript
  var reg = [^abc]; // 除去abc中的任意一个
  ```

  ​

* 字符组

  \d : [0-9] 表示一个数字

  \D : 【^0-9】 除去数字外的任意字符

  \w : [0-9a-zA-Z_] 表示 数字、大小写字母 和 下划线。 

  \W：【^0-9a-zA-Z_】非单词字符

  \s  : 表示空白符 空格 水平制表符 垂直制表符 换行符 回车 换页

  \S : 非空白符

  .   :  通配符 表示几乎任意字符。 换行符、回车符、  

  ​

* 1.3 量词 重复词 {m, n} 

  ```javascript
  {m,} // 至少出现m次
  {m}  // 出现m次
   ？  // {0,1} 出现一次或不出现
   +   // {1,} 至少出现一次 加号表示追加的意思 先有一个才有追加
   *   // {0,} 出现任意次 也有可能不出现 
     
   // 惰性匹配 尽可能的少匹配
   var reg = /\d{2,4}?/g; // 虽然2到4次可以 但是当2个就够了 不会再往下匹配了  
   
  ```

  *  惰性量词 通过在量词后面加个问号 就能实现惰性匹配 意思就是你知足吗 够了吧

    ```javascript
    {m,n}?  
    ```

    ​

  * 多选分支 支持多个子模式任选其一

    ```javascript
    (p1|p2|p3) // | 表示管道符 表示其中任何之一

    var reg = /goodbye|good/g;
    var reg1 = /good|goodbye/g;
    'goodbye'.match(reg); // goodbye
    ```

  案例分析

  ```javascript
  // 匹配字符 字符组 量词 分支结构 的组合
   Q1: 匹配16进制颜色值
   
   A: 16进制就是 0-9 a-z A-Z 可以使用 [0-9a-fA-F] 前面还有一个'#' 但是还有一种是简写 

   var reg = /#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})/g;

  Q2: 匹配时间 以24小时为例子 23:00

  A:  共四个数字第一个数字 可以是 [0-2]， 当第一位是2时 第二位为[0-3]。其他情况时第二位[0-9]
      第三位数[0-5] 第四位[0-9]
   
  var reg = /^([01][0-9]|[2][0-3]):[0-5[0-9]$/g; // 多选分支结构

  如果省略前面的0，那么就是变成
  var reg1 = /^(0?[0-9]|1[0-9]|2[0-3]):(0?[0-9]|[1-5][0-9])$/g;


  Q3: 匹配年月日 yyyy-mm-dd格式 2017-09-28
  A:  年 [0-9]{4}  月 (0[1-9]|1[0-2]) 日 (0[1-9]|[12][0-9]3[01])

  var reg = /^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]3[01])$/g;


  Q4: 匹配id
  A : <div id="app" class="main"></div>

  var reg = /id="[^"]*"/;
  ```

  ​





### 2 位置匹配

* ^ $ 匹配开头和结尾的。 

  ```javascript
  var result = 'hello'.replace(/^|$/g, '#');
  console.log(result); // '#hello#'

  ```

  ​

* \b 单词边界 具体的就是 \w 和 \W 之间的位置。 包括 \w 与 ^ 之间的位置

  ​

* (?=p) 和 (?!p)

  (?=p) 该位置后面的字符要匹配p

  (?!p)  

  ```javascript
  var res = 'hello'.replace(/(?=l)/g, '#');
  res; // 'he#l#lo' 
  ```

  ​

* 案例

  ```Javascript
  // 千位逗号表示 (?=\d{3}$)
  var reg = /(?=(\d{3})+$)/g;

   
  // 密码长度为6-12。 由数字、小写字符 和 大写字母组成。但必须至少包括2种字符。
  var reg = /^[0-9a-zA-z]{6,12}$/;
  ```

* ​































